<template name="ModalAddDevice">
    <div class="modal fade" id="add_device" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-centering" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    {{>yield "modalHeader"}}
                </div>
                <div class="modal-body">
                    {{>yield "modalBody"}}
                    <div class="tab-content">
                        {{#each modules}}
                        <div id="gang{{index}}" class="tab-pane fade">
                            {{>yield region}}
                        </div>
                        {{/each}}
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="configure" type="button" class="{{showConfig}} btn btn-raised btn-block btn-primary">{{_ "Next"}} <i class="icon icon-fit iot-icon-right-open"></i></button>
                </div>
            </div>
        </div>
    </div>
</template>

<template name="Body4Gang">
    <div class="tab-content">
        {{#each modules}}
        <div id="gang{{index}}" class="tab-pane fade">
            {{>yield region}}
        </div>
        {{/each}}
    </div>
</template>

<template name="Body2Gang">
    <div class="tab-content">
        {{#each modules}}
        <div id="gang{{index}}" class="tab-pane fade">
            {{>yield region}}
        </div>
        {{/each}}
    </div>
</template>

<template name="Body1Gang">
    <div class="tab-content">
        {{#each modules}}
        <div id="gang{{index}}" class="tab-pane fade">
            {{>yield region}}
        </div>
        {{/each}}
    </div>
</template>

<template name="FragmentAdd">
    <form id="form-{{index}}" data-idx="{{index}}">
        {{#if found}}
            <div class="form-group text-right">
                <label style="width: 15%" class="text-right t-vmiddle">
                    <i id="icon-{{index}}" class="" data-icon="{{foundIcon}}" data-value="0"></i>
                </label>
                <input type='text' class="text-left form-control w-percent-70" value="Light" readonly>
            </div>
            <div class="form-group text-right">
                <label class="t-vmiddle">{{_ "Name"}}</label>
                <input type="text" class="gangname form-control w-percent-70" placeholder={{_ "Button name"}} value="{{foundName}}" readonly>
            </div>
            <div class="form-group text-right">
                <label class="t-vmiddle">{{_ "Room"}}</label>
                <input type="text" class="form-control w-percent-70" readonly value="{{roomName}}">
            </div>
            <button type="button" data-idx="{{index}}" disabled class="{{showAdd}} btn btn-block btn-primary addBtn">{{_ "Add"}} {{_ "button"}} #{{index}}</button>
        {{else}}
            <div class="form-group text-right">
                <label style="width: 15%" class="text-right t-vmiddle">
                    <i id="icon-{{index}}" class="" data-icon="0" data-value="0"></i>
                </label>
                <input type='text' class="text-left form-control w-percent-70" value={{_ "Light button"}} readonly>
            </div>
            <div class="form-group text-right">
                <label class="t-vmiddle">{{_ "Name"}}</label>
                <input type="text" class="gangname form-control w-percent-70" placeholder={{_ "Button name"}} required>
            </div>
            <div class="form-group text-right">
                <label class="t-vmiddle">{{_ "Room"}}</label>
                <input type="text" class="form-control w-percent-70" readonly value="{{roomName}}">
            </div>
            <button type="button" data-idx="{{index}}" data-btnIdx="{{btnIdx}}" class="{{showAdd}} btn btn-block btn-primary addBtn">{{_ "Add"}} {{_ "button"}} #{{index}}</button>
        {{/if}}
    </form>
</template>

<template name="FragmentAddCurtain">
    <div class="form-group text-right">
        <label style="width: 15%" class="text-right t-vmiddle">
            <i id="icon-0" class="" data-icon="0" data-value="2"></i>
        </label>
        <input type='text' class="text-left form-control w-percent-70" value={{_ "Curtain"}} readonly>
    </div>
    <div class="form-group text-right">
        <label class="t-vmiddle">{{_ "Name"}}</label>
        <input type="text" class="gangname form-control w-percent-70" placeholder={{_ "Button name"}} required>
    </div>
    <div class="form-group text-right">
        <label class="t-vmiddle">{{_ "Room"}}</label>
        <input type="text" class="form-control w-percent-70" readonly value="{{roomName}}">
    </div>
    <button type="button" class="btn btn-block btn-primary addBtn" data-idx="{{index}}" data-btnIdx="{{btnIdx}}">{{_ "Add"}} {{_ "curtain"}}</button>
</template>

<template name="FragmentAddScene">
    <div class="form-group text-right">
        <label style="width: 15%" class="text-right t-vmiddle">
            <i id="icon-{{index}}" class="" data-icon="0" data-value="1"></i>
        </label>
        <input type='text' class="text-left form-control w-percent-70" value={{_ "Command"}} readonly>
    </div>
    <div class="form-group text-right">
        <label class="t-vmiddle">{{_ "Scene"}}</label>
        <select name="scene" class="list_group list-down">
            <option value="-3">[{{_ "Choose ..."}}]</option>
            <option value="-2">{{_ "MUSIC"}}</option>
            <option value="-1">{{_ "TURN OFF ALL"}}</option>
            {{#each scenes}}
            <option value="{{id}}">{{name}}</option>
            {{/each}}
        </select>
    </div>
    <div class="form-group text-right">
        <label class="t-vmiddle">{{_ "Room"}}</label>
        <input type="text" class="form-control w-percent-70" placeholder="Room name" readonly value="{{roomName}}">
    </div>
    <button type="button" class="btn btn-block btn-primary addBtn" data-idx="{{index}}" data-btnIdx="{{btnIdx}}">{{_ "Add"}} {{_ "command button"}}</button>
</template>
<template name="HeaderTitle">
    <h4>{{_ "Choose switch type"}}</h4>
</template>
<template name="Header4Gang">
    <ul class="nav nav-pills" style="position: relative; text-align: center; height: 90px;">
        {{#each modules}}
        <li class="{{pos}}"><a data-toggle="pill" data-index="{{index}}" href="#gang{{index}}">{{_ "Button"}} {{index}}</a></li>
        {{/each}}
        <div class="hline"></div>
        <div class="vline"></div>
    </ul>
</template>

<template name="Header2Gang">
    <ul class="nav nav-pills" style="position: relative; text-align: center; height: 45px;">
        {{#each modules}}
        <li class="{{pos}}"><a data-toggle="pill" data-index="{{index}}" href="#gang{{index}}">{{_ "Button"}} {{index}}</a></li>
        {{/each}}
        <div class="vline"></div>
    </ul>
</template>

<template name="Header1Gang">
    <ul class="nav nav-pills">
        <li style="width:100%" class="text-center"><a data-toggle="pill" data-index="0" href="#gang0">{{_ "Button"}}</a></li>
    </ul>
</template>

<template name="HeaderCurtain">
    <ul class="nav nav-pills">
        <li style="width:100%" class="text-center"><a data-toggle="pill" data-index="0" href="#gang0">{{_ "Curtain"}}</a></li>
    </ul>
</template>

<template name="HeaderCurtainSwitch">
    <ul class="nav nav-pills" style="position: relative; text-align: center; height: 90px;">
        <li style="width:100%" class="pos-lt active"><a data-toggle="pill" data-index="0" href="#curtain">{{_ "Curtain"}}</a></li>
        <li class="col-xs-6 pos-lb"><a data-toggle="pill" data-index="2" href="#gang2">{{_ "Button"}} 2</a></li>
        <li class="col-xs-6 pos-rb"><a data-toggle="pill" data-index="3" href="#gang3">{{_ "Button"}} 3</a></li>
        <div class="hline"></div>
        <div class="vline" style="height: 50%;top:50%"></div>
    </ul>
</template>

<template name="BodyStage1">
    <div id="guide" class="form-group">
        <h4 id="step1" style="display:none" class='text-left'>(1) {{_ "Choose a switch"}} {{_ "or"}} {{_"device"}}</h4>
        <h4 id="step2" style="display:none" class='text-left'></h4>
    </div>
    <div class="form-group"> <!-- Check eventDDP.js check "Notifier.addListener('joininfo', function(message) { ... } for correct order of gang-type -->
        <select name="gangtype" class="list_group list-down">
            <option value="-1">{{_ "Add switch/device"}} ...</option>
            <option value="0">{{_ "2-light 2-scene switch"}}</option>
            <option value="1">{{_ "3-light 1-scene switch"}}</option>
            <option value="2">{{_ "4-scene switch"}}</option>
            <option value="3">{{_ "2-light switch"}}</option>
            <option value="4">{{_ "2-scene switch"}}</option>
            <option value="5">{{_ "1-light switch"}}</option>
            <option value="6">{{_ "1-scene switch"}}</option>
            <option value="7">{{_ "2-way curtain switch"}}</option>
            <option value="8">{{_ "1-light 1-scene switch"}}</option>
            <option value="9">{{_ "IR-controlled device"}}</option>
        </select>
    </div>
</template>

<template name="BodyCurtain">
    <div class="tab-content">
        <div id="gang0" class="tab-pane fade in active">
            {{#if hasSwitchFree}}
                {{>yield "curtain"}}
            {{else}}
                <p class="text-justify">{{_ "Cannot setup a curtain since there are not enough available relays"}}</p>
                <button type="button" data-idx="0" disabled class="btn btn-block btn-primary addBtn">Add curtain</button>
            {{/if}}
        </div>
    </div>
</template>

<template name="BodyCurtainSwitch">
    <div class="tab-content">
        {{#if hasSwitchFree}}
        <div id="curtain" class="tab-pane fade in active">
            {{>yield "curtain"}}
        </div>
        {{else}}
        <div id="curtain" class="tab-pane fade in active">
            <p class="text-justify">Cannot setup a curtain since there are not enough available relays </p>
            <button type="button" data-idx="0" disabled class="btn btn-block btn-primary addBtn">Add curtain</button>
        </div>
        {{/if}}
        <div id="gang2" class="tab-pane fade">
            {{>yield "switch-3"}}
        </div>
        <div id="gang3" class="tab-pane fade">
            {{>yield "switch-4"}}
        </div>
    </div>
</template>

<template name="HeaderIRDevice">
    <h4>{{_ "Add"}} {{_ "IR-controlled device"}}</h4>
</template>

<template name="BodyIRDevice">
    <div class="form-group text-right">
        <label class="sr-only t-vmiddle">{{_ "Name"}}</label>
        <input type="text" class="gangname form-control" placeholder={{_ "Device name"}}>
    </div>
    <div class="form-group text-right">
        <label class="sr-only t-vmiddle">{{_ "Model"}}</label>
        <select name="model" class="list_group list-down form-control">
            <option value="-1">{{_ "Choose a model"}} ...</option>
            {{#each irdevmodel}}
            <option value={{id}}>{{name}}</option>
            {{/each}}
        </select>
    </div>
    <div class="form-group text-right">
        <label class="sr-only t-vmiddle">{{_ "IRHub"}}</label>
        <select name="ir-hub" class="list_group list-down form-control">
            <option value="-1">{{_ "Choose a IRHub"}} ...</option>
            {{#each irhub}}
                <option value={{id}}>{{name}}</option>
            {{/each}}
        </select>
    </div>
    <div class="form-group text-right">
        <label style="width: 100%" class="text-center t-vmiddle">
            <i class="" data-icon="0" data-value="0"></i>
        </label>
    </div>
    <div class="form-group">
        <button id="addIRDev" type="button" class="btn btn-block btn-primary">Add device</button>
    </div>
</template>
