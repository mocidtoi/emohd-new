<template name="Scene">
    <div class="page">
        <ul class="room-list" style="padding-left:0;padding-right:0;">
            <li><div>
                <input style="font-style:italic;border:none;width:80%" id='sceneName' type="text" value="{{scene.name}}" text="{{scene.name}}">
                <a id="addTask" href="#" class="button-style-2 align-right">
                    <i class="icon icon-fit iot-color-brand iot-icon-plus align-right" aria-hidden="true"></i>
                </a>
            </div></li>
            <li><div style="padding:0;">
                <ul class="device-list" style="padding-left:0;padding-right:0;">
                    {{#each sd in scenedev}}
                    <li><div class="glass">
                            <ul style="list-style:none;" class="clearfix group-select zero-padding">
                                <li style="width: 8vw;" class="column"><span class="" data-action='remove-scenedev' data-id="{{sd.id}}">
                                    <i class="icon icon-fit iot-icon-trash-o" aria-hidden="true"></i>
                                </span></li>
                                {{#if sd.devId}}
                                {{#with device sd.devId}}
                                <li style="width: 30vw;" class="column column-1">
                                    <select class="list-down" data-id="{{sd.id}}">
                                        {{#each r in rooms}}
                                        <optgroup label="{{r.name}}">
                                            {{#each d in devices r.id}}
                                            <option value="{{d.id}}" {{isSelected sd.devId d.id}}>{{d.name}}</option>
                                            {{/each}}
                                        </optgroup>
                                        {{/each}}
                                    </select>
                                </li>
                                    {{#with room groupId}}
                                <li style="width: 30vw;" class="column column-2">
                                    <input type="text" class="mbsc-control mbsc-control-ev full-width" readonly data-id="{{sd.id}}" data-devId="{{sd.devId}}" value="{{name}}">
                                </li>
                                    {{/with}}
                                <li style="width: 21vw;" class="column last-column">
                                    <select class="list-down" data-id="{{sd.id}}">
                                        <option value=1 {{isSelected 1 sd.action}}>turn ON</option>
                                        <option value=0 {{isSelected 0 sd.action}}>turn OFF</option>
                                        <option value=2 {{isSelected 2 sd.action}}>TOGGLE</option>
                                        <option value=3 {{isSelected 3 sd.action}}>UP</option>
                                        <option value=4 {{isSelected 4 sd.action}}>STOP</option>
                                        <option value=5 {{isSelected 5 sd.action}}>DOWN</option>
                                    </select>
                                </li>
                                {{/with}}
                                {{else}}
                                <li style="width: 30vw;" class="column column-1">
                                    <select class="list-down" data-id="{{sd.id}}">
                                        {{#each r in rooms}}
                                        <optgroup label="{{r.name}}">
                                            {{#each d in devices r.id}}
                                            <option value="{{d.id}}">{{d.name}}</option>
                                            {{/each}}
                                        </optgroup>
                                        {{/each}}
                                    </select>
                                </li>
                                <li style="width: 30vw;" class="column column-2">
                                    <input type="text" class="mbsc-control mbsc-control-ev" readonly data-id="{{sd.id}}">
                                </li>
                                <li style="width: 21vw;" class="column last-column">
                                    <select class="list-down" data-id="{{sd.id}}">
                                        <option value=1 {{isSelected 1 sd.action}}>turn ON</option>
                                        <option value=0 {{isSelected 0 sd.action}}>turn OFF</option>
                                        <option value=2 {{isSelected 2 sd.action}}>TOGGLE</option>
                                        <option value=3 {{isSelected 3 sd.action}}>UP</option>
                                        <option value=4 {{isSelected 4 sd.action}}>STOP</option>
                                        <option value=5 {{isSelected 5 sd.action}}>DOWN</option>
                                    </select>
                                </li>
                                {{/if}}
                            </ul>
                    </div></li>
                    {{/each}}
                </ul>
            </div></li>
            <li style="padding:1em;">
                <button id="removeDevice" type="button" class="btn btn-raised btn-danger btn-block"><h5 class="text-uppercase">Delete</h5></button>
            </li>
        </ul>
    </div>
</template>
